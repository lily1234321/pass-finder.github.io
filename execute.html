<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Execute Plan - Gentle Exploration</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="execute.css">
    <link rel="stylesheet" href="micro-interactions.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="back-buttons">
                    <button class="back-btn hover-lift focus-ring" onclick="goBack()" data-tooltip="Back to Previous Page">
                        <span>‚Üê</span> Back
                    </button>
                    <button class="home-btn hover-lift focus-ring" onclick="goHome()" data-tooltip="Back to Home">
                        <span>üè†</span> Home
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div id="plan-content">
                <!-- Dynamically load plan content -->
            </div>

            <!-- Upload Section -->
            <div class="card upload-section hover-lift animate-fade-in">
                <h3>Record your experience:</h3>
                
                <div class="upload-area" id="upload-area">
                    <div class="upload-icon">üì§</div>
                    <p>Upload your work or screenshot</p>
                    <input type="file" id="file-upload" accept="image/*,video/*" style="display: none;" onchange="handleFileUpload(event)">
                    <button class="upload-btn hover-glow focus-ring" onclick="document.getElementById('file-upload').click()">
                        Choose File
                    </button>
                    <div id="upload-preview" class="upload-preview"></div>
                </div>

                <div class="notes-section">
                    <label for="notes">Write down your feelings or thoughts (optional):</label>
                    <textarea id="notes" class="focus-ring" placeholder="For example: This process made me feel..., I discovered..., Next time I want to..." oninput="validateNotes(this)"></textarea>
                    <div class="char-count" id="char-count">0 characters</div>
                </div>
            </div>

            <!-- Completion Section -->
            <div class="card completion-section hover-lift animate-fade-in">
                <h3>Did you complete this small plan?</h3>
                
                <div class="completion-buttons">
                    <button class="btn-completed hover-glow focus-ring" onclick="markCompleted()" data-tooltip="Mark as completed">
                        <span>‚úÖ</span> Yes, I completed it
                    </button>
                    <button class="btn-skip hover-lift focus-ring" onclick="skipPlan()" data-tooltip="Can complete later">
                        <span>‚è∏Ô∏è</span> Not completed yet (skip allowed)
                    </button>
                </div>

                <div id="next-step" class="next-step" style="display: none;">
                    <button class="btn-primary hover-glow animate-pulse focus-ring" onclick="goToFeedback()">
                        Continue to feedback ‚Üí
                    </button>
                </div>
            </div>

            <!-- Encouragement message -->
            <div class="encouragement-message animate-fade-in">
                <p>üåü Every attempt is growth, no matter the result!</p>
            </div>
        </main>
    </div>

    <script src="micro-interactions.js"></script>
    <script src="execute.js"></script>
</body>
</html>
